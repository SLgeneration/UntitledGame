[gd_scene load_steps=17 format=2]

[ext_resource path="res://src/Actors/MainChar/LirikYaki.tscn" type="PackedScene" id=1]
[ext_resource path="res://assets/Mogno/FAFA/Football.tscn" type="PackedScene" id=2]
[ext_resource path="res://src/Actors/SlimeFR.tscn" type="PackedScene" id=3]
[ext_resource path="res://assets/Mogno/FAFA/Football pitch.png" type="Texture" id=4]
[ext_resource path="res://assets/Mogno/FAFA/Stadium Ambience 5.mp3" type="AudioStream" id=5]
[ext_resource path="res://assets/Mogno/FAFA/falling_leaf_particle3.png" type="Texture" id=6]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 2039.15, 10 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 1982, 10 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 18.1221, 867.418 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 173.776, 4.22754 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 537.471, 10 )

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 92.043, 10 )

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 31.1558, 27.567 )

[sub_resource type="RectangleShape2D" id=8]
extents = Vector2( 43.5938, 3.49347 )

[sub_resource type="Shader" id=9]
code = "shader_type particles;

uniform vec4 color_1 : hint_color = vec4( 1.0 );
uniform vec4 color_2 : hint_color = vec4( 1.0 );
uniform vec4 color_3 : hint_color = vec4( 1.0 );
uniform vec4 color_4 : hint_color = vec4( 1.0 );

float rand_from_seed(inout uint seed) {
	int k;
	int s = int(seed);
	if (s == 0)
	s = 305420679;
	k = s / 127773;
	s = 16807 * (s - k * 127773) - 2836 * k;
	if (s < 0)
		s += 2147483647;
	seed = uint(s);
	return float(seed % uint(65536)) / 65535.0;
}

float rand_from_seed_m1_p1(inout uint seed) {
	return rand_from_seed(seed) * 2.0 - 1.0;
}

uint hash(uint x) {
	x = ((x >> uint(16)) ^ x) * uint(73244475);
	x = ((x >> uint(16)) ^ x) * uint(73244475);
	x = (x >> uint(16)) ^ x;
	return x;
}

void vertex() {
	uint base_number = NUMBER;
	uint alt_seed = hash(base_number + uint(1) + RANDOM_SEED);
	

	if (RESTART) 
	{
		TRANSFORM[3].x = rand_from_seed( alt_seed ) * 30.0 - 15.0;
		TRANSFORM[3].y = rand_from_seed( alt_seed ) * 30.0 - 15.0;
		VELOCITY.x = rand_from_seed( alt_seed ) * ( -10.0 );
		VELOCITY.y = rand_from_seed( alt_seed ) * ( 10.0 );
		
		int color_index = int( rand_from_seed( alt_seed ) * 4.0 );
		if( color_index == 0 )
		{
			COLOR = color_1;
		}
		else if( color_index == 1 )
		{
			COLOR = color_2;
		}
		else if( color_index == 2 )
		{
			COLOR = color_3;
		}
		else if( color_index == 3 )
		{
			COLOR = color_4;
		}
	} 
	else
	{
		CUSTOM.x += DELTA;
		TRANSFORM[0] = vec4(cos(CUSTOM.x), -sin(CUSTOM.x), 0.0, 0.0);
		TRANSFORM[1] = vec4(sin(CUSTOM.x), cos(CUSTOM.x), 0.0, 0.0);
	}
}

"

[sub_resource type="ShaderMaterial" id=10]
shader = SubResource( 9 )
shader_param/color_1 = Color( 1, 0, 0.368627, 1 )
shader_param/color_2 = Color( 0.282353, 1, 0, 1 )
shader_param/color_3 = Color( 0, 0.666667, 1, 1 )
shader_param/color_4 = Color( 1, 0.87451, 0, 1 )

[node name="Node2D" type="Node2D"]

[node name="Level Background" type="Sprite" parent="."]
position = Vector2( 2.68118, 2.29053 )
scale = Vector2( 0.535207, 0.535207 )
texture = ExtResource( 4 )
centered = false
__meta__ = {
"_edit_lock_": true
}

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Level Background"]
stream = ExtResource( 5 )
volume_db = -25.0
autoplay = true

[node name="Boundaries" type="Node" parent="Level Background"]

[node name="StaticBody2D" type="StaticBody2D" parent="Level Background/Boundaries"]

[node name="top" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 1882.16, 13.3635 )
shape = SubResource( 1 )

[node name="bottom" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 1878.36, 566.589 )
shape = SubResource( 2 )

[node name="left" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 161.911, 291.393 )
shape = SubResource( 3 )

[node name="right" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 3247.77, 118.316 )
rotation = 0.79036
shape = SubResource( 4 )

[node name="right2" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 3579.36, 448.783 )
rotation = 0.79036
shape = SubResource( 4 )

[node name="right3" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 3559.91, 289.965 )
rotation = 0.79036
shape = SubResource( 5 )

[node name="right4" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 3459.25, 254.786 )
rotation = 0.79036
shape = SubResource( 6 )

[node name="right5" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 3398.45, 221.272 )
shape = SubResource( 7 )

[node name="right6" type="CollisionShape2D" parent="Level Background/Boundaries/StaticBody2D"]
position = Vector2( 3496, 326.398 )
shape = SubResource( 8 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Level Background/Boundaries/StaticBody2D"]
polygon = PoolVector2Array( 3372.82, 248.777, 3373.24, 196.221, 3425.79, 197.062, 3497.27, 269.379, 3498.11, 321.515, 3446.39, 321.935, 3446.39, 321.935 )

[node name="YSort" type="YSort" parent="."]

[node name="Actors" type="YSort" parent="YSort"]

[node name="LirikYaki" parent="YSort/Actors" instance=ExtResource( 1 )]
position = Vector2( 512.894, 287.673 )

[node name="Camera2D" type="Camera2D" parent="YSort/Actors/LirikYaki"]
current = true
drag_margin_h_enabled = true
drag_margin_v_enabled = true
smoothing_enabled = true
smoothing_speed = 3.0
drag_margin_left = 0.75
drag_margin_top = 1.0
drag_margin_right = 0.43
drag_margin_bottom = 1.0

[node name="ENEMIES" type="Node2D" parent="YSort/Actors"]

[node name="Enemy" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 1422.8, 126.421 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy2" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 1573.39, 354.97 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy3" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 1064.29, 153.717 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy4" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 1369.6, 492.701 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy5" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 1930.83, 108.818 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy6" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 1753.48, 279.433 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy7" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 2258.59, 445.557 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy8" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 2328.19, 120.043 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy9" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 2676.15, 259.228 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy10" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 2629.01, 497.19 )
scale = Vector2( 0.5, 0.5 )

[node name="Enemy11" parent="YSort/Actors/ENEMIES" instance=ExtResource( 3 )]
position = Vector2( 3286.77, 288.412 )
scale = Vector2( 0.5, 0.5 )

[node name="FOOTBALL" parent="YSort/Actors" instance=ExtResource( 2 )]
position = Vector2( 604.899, 268.52 )

[node name="Node2D" type="Node2D" parent="."]
position = Vector2( -3547.96, -538.782 )
scale = Vector2( 1.99775, 1.99775 )

[node name="Particles2D" type="Particles2D" parent="Node2D"]
position = Vector2( 2031.58, 259.179 )
amount = 120
lifetime = 20.0
preprocess = 60.0
process_material = SubResource( 10 )
texture = ExtResource( 6 )

[node name="Particles2D2" type="Particles2D" parent="Node2D"]
position = Vector2( 2713.87, 238.535 )
amount = 120
lifetime = 20.0
preprocess = 60.0
process_material = SubResource( 10 )
texture = ExtResource( 6 )

[node name="Particles2D3" type="Particles2D" parent="Node2D"]
position = Vector2( 3559.27, 215.857 )
amount = 120
lifetime = 20.0
preprocess = 60.0
process_material = SubResource( 10 )
texture = ExtResource( 6 )
